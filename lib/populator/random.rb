# encoding: UTF-8

module Populator
  # This module adds several methods for generating random data which can be
  # called directly on Populator.
  module Random
    WORDS = %w(প্রযুক্তির উন্নয়নের সাথে সাথে এই সোশাল নেটওয়ার্কিং সাইটগুলোতে সবারই ব্যাপক পদসঞ্চালন টুইটার ও ফেসবুকের মাধ্যমে ক্ষণিকের মাঝেই জেনে যাওয়া যায় সারা পৃথিবীর অনেক খবর আন্তর্জাতিক সাংবাদিকগণ তাদের ব্যক্তিগত টুইটার অ্যাকাউন্ট ব্যবহার করে থাকেন খুবই নিয়মিভাবে তেমনি সমস্ত ব্যবসায়ী প্রতিষ্ঠানও এখানে সংযুক্ত হয়েছে সহজেই মানুষের কাছে পৌছাতে তাদের কাছে নিজেদের সেবা ও পণ্য সম্পর্কে জানিয়ে দেয়া ভোক্তাদের কাছ থেকে ফিডব্যাক নেয়া এবং সেই অনুযায়ী ব্যবসার উৎপাদন বৃদ্ধি করার নজীর রয়েছে পর্যন্ত শিক্ষক বুদ্ধিজীবী এবং খেলোয়ার ও অন্যান্য সেলিব্রিটিরাও তাদের ভক্তদের অনেক কাছে চলে যেতে ব্যবহার করে ফেসবুক টুইটারসহ অন্যান্য সোশাল নেটওয়ার্ক এই লেখাতে আমি কেবল ফেসবুকের ভুল ব্যবহারের ফলে উদ্ভুত কিছু সমস্যার ব্যাপারে কথা বলবো তাও আবার বাংলাদেশের প্রেক্ষাপটে সাধারণ তরুণ প্রজন্মের ছেলেমেয়েদের ব্যবহারের মাঝে অশ্লীলতা ছড়িয়ে পড়ার বিষয়টা নিয়ে লেখাটা পড়ার সময় মাথায় রাখতে হবে ফেসবুক ব্যবহারের সুস্থ সামাজিক নেটওয়ার্কিং-এর সমস্ত ভালো দিকগুলোকে হিসেবে রেখে কেবলমাত্র উদ্ভুত কিছু সমস্যা নিয়ে আলোচনা করা হচ্ছে ফেসবুক যখন শুরু ৪/৫ বছর আগে তখন এই দেশে ইন্টারনেট ব্যবহারকারী খুব বেশি ছিলনা মূলত আর্থিকভাবে সচ্ছল এবং শহরবাসীরাই ছিলো এই ফেসবুকের ব্যবহারকারী ধীরে ধীরে এই সাইট জনপ্রিয় হতে থাকে সারা বিশের মতন বাংলাদেশেও হবারই কথা এখানে সময় কাটানো যায় পুরোনো বন্ধুদেরকে নিমিষেই কাছে পাওয়া যায় কথা বলা যায় ছবি শেয়ার করা যায় এখন যুক্ত হয়েছে ভিডিও চ্যাট আত্মীয়স্বজন এবং বন্ধুবান্ধবদের কাছাকাছি পেতে এরকম ফেসবুক জনপ্রিয় হবারই কথা কিন্তু আমাদের দেশের যাবতীয় প্রজন্মের একটা বিস্তীর্ণ অংশ অশিক্ষিত অল্পশিক্ষিত তাই ফেসবুকে একাউন্ট না থাকাটা অনেকেই নিজের মান-ইজ্জতের হানিকর ভেবেও একটা একাউন্ট খুলেছেন এমন কথাও জানি বছরখানেক আগেও আমার এলাকার স্টুডিওতে ঝুলানো ছিল এখানে ফেসবুকের ছবি তোলা হয় বলাই বাহুল্য এটা মূলত গার্মেন্টসে কর্মরত পুরুষ এবং মূলত নারীকর্মীদের সুবিধার্থে একটা ব্যবসায়ীক আয়োজন ছিল একইভাবে ওয়াইম্যাক্সের আগমনের পরে সাইবার ক্যাফেগুলো ব্যবসা আগের মতন জমজমাট করতে না পারায় তাদের দোকানেও দেখা যায় এখানে ফেসবুক ইউজ করা যায় আমি ফেসবুকের একদম প্রথম থেকেই ছিলাম তখন আমার ইন্টারনেট কানেকশন ছিল এই দীর্ঘ সময় একটা অভিজ্ঞতা হলো এখন স্কুলের পিচ্চি পিচ্চি ছেলেমেয়েরাও নিয়মিত ফেসবুক ইউজ করে আমার এক বন্ধুর ছোটবোন বছর খানেক আগে বেশি নিয়মিত ফেসবুকিং করত যার বয়স ছিল মাত্র ১১ বছর এরকম আরো অজস্র উদাহরণ আছে প্রযুক্তির কারণে শিশুরা স্কুলে যাবার আগেই এখন মোবাইলের সমস্ত ফাংশন প্রায় ঘেঁটে ফেলে এটাও হয়ত অমনই একটা ব্যাপার সেদিন একজনের নামের উপরের লিঙ্কে ক্লিক করে তার প্রোফাইলে চলে গেলাম সামনেই পেলাম তার সদ্য সব পেইজে লাইক দেয়া নামগুলো একটা আমার পছন্দের পেইজ তার পাশেই প্রেমপত্র নিয়ে একটা পেজ সেখানেও ক্লিক করলাম আচ্ছা এরপর ভয়াবহ রকমের খ্যাত ফালতু একেকটা প্রেমের কথা বীভৎস সব আধা-অশ্লীল পূর্ণ অশ্লীল সো কলড রোমান্টিক ছবি আর কে কে জেগে আছেন লাইক দিন ভালো লাগলে শেয়ার করুন লাইক দিন শেয়ার করুন টাইপের স্বাভাবিক ফেরিওয়ালাগিরি দেখলাম আমি আরো বেশি অবাক হলাম যখন দেখি ১০ হাজারের উপরে লাইক পেইজটাতে তাতে প্রতিটি সুপার খ্যাত পোস্টেই একশর উপরে লাইক দেয়া অর্থাৎ এদের প্রতিটি পোস্টই ছড়িয়ে গেছে অজস্র ছেলেমেয়ের মাঝে দিগ্বিদিগ জ্ঞানশূণ্য টিপিক্যাল মডারেট মুসলিমের অন্তরকে ধারণ করেছিলাম অনেক বছর আমি জানি যতক্ষণ না পর্যন্ত নিজেকে অশ্লীল দৃশ্য থেকে সম্পূর্ণরূপে নিজেকে রক্ষা করতে নিয়াত করেছিলাম কখনই আল্লাহর অনুভবের প্রশান্তি অর্জন করতে পারিনি একটুও যখনই নির্লজ্জ অপছন্দনীয় কোন কিছুতে জড়িয়ে পড়ি অন্তরের শান্তি হারিয়ে যায় আল্লাহর স্মরণ থেকে গাফেল হয়ে যাই এইটা খুব খারাপ জিনিস খুব খারাপ আর খুব বেশি সাবধান থাকার মতন একটা বিষয় নিজের গায়ে একটা ছুরির আঘাত আসাকে অনুমুতি দেয়াও এর চাইতে কম ক্ষতিকর বলে আমার অনুভব হয় হেফাজতি ইসলামের ছয় এপ্রিলের সমাবেশ শেষ হওয়ার মধ্য দিয়ে টান টান উত্তেজনা এবং আতংকের সাময়িক অবসান ঘটেছে সাময়িক এ কারণে যে সমাজের বিরোধ যে রাজনৈতিক রূপ লাভ করেছে তাতে এই টান টান অবস্থার পরিসমাপ্তি সহজে ঘটবে না বরং হেফাজতে ইসলামের মধ্য দিয়ে নতুন একটি রাজনৈতিক শক্তির আবির্ভাব আমরা দেখলাম যাদের সম্পর্কে সমাজের ধারণা খুবই অল্প বিদ্যমান দ্বন্দ্ব সংঘাতের বাস্তবতা ও চরিত্রের কারণে তারা তাদের ধর্মীয় দাবিকে রাজনৈতিক দাবি হিশাবে হাজির করতে সক্ষম হয়েছে শহুরে ভদ্রলোক ও বিদ্যমান ব্যবস্থার সুবিধাভোগী শ্রেণি তাদের পশ্চাতপদ ও গণবিরোধী চিন্তাচেতনার আবর্জনা এরপরও ঘাঁটতে থাকবে দুর্গন্ধ ছড়াতে থাকবে তারা বুঝতে চেষ্টা করবে না কেন ঘটনাটি ঘটল এর আর্থ-সামাজিক ও সাংস্কৃতিক কারণ কী হতে পারে গণতান্ত্রিক লড়াই সংগ্রামের বিপজ্জনক ঘাটতিগুলো কোথায় না সেই কঠিন পর্যালোচনার জায়গায় তারা যাবে না তারা বলতে থাকবে এরা অসভ্য অশিক্ষিত ও বর্বর এরা যদি সমাজে প্রাধান্য বিস্তার করে তাহলে সভ্যতা বলে কিছু থাকবে না নোংরা বর্ণবাদ ও শ্রেণিঘৃণার তীব্রতা দেখব আমরা ইসলামের বিরুদ্ধে বিদ্বেষ ও ঘৃণার রাজনীতি সাম্রাজ্যবাদী দেশগুলোর ইসলাম আতংকের সঙ্গে একাকার হয়ে যেতে থাকবে বাংলাদেশে যারা খেয়ে না খেয়ে ইসলাম বিরোধী রাজনীতির বিরোধিতা করেন তারা জোরে শোরে প্রচার করছেন হেফাজতে ইসলাম আসলে জামাতে ইসলামেরই নামান্তর একাত্তরে জামাতে ইসলামির ভূমিকার কারণে ইসলাম সম্পর্কে জনগণের মধ্যে যে মন্দ ধারণা রয়েছে তারা তাকে ব্যবহার করে হেফাজতে ইসলামকেও কালিমালিপ্ত করতে চাইছেন অথচ জামায়াত ও হেফাজতে ইসলামের সম্পর্ক সাপে নেউলে বললেও খুব অত্যুক্তি হয় না এই ধরণের প্রচার বা প্রপাগাণ্ডা ইসলামের প্রতি শিক্ষিত মধ্যবিত্ত শ্রেণির একাংশের ঘৃণা ও বিদ্বেষ শুধু নয় তুমুল অনাগ্রহও প্রমাণ করে বাংলাদেশে ইসলামি রাজনীতির বিভিন্ন ধারাকে বুঝতেও সহায়ক হয় না বলাবাহুল্য হেফাজতে ইসলামির কর্মসূচি রাজনীতি কিম্বা তাদের কাজের কৌশল ইত্যাদি সবকিছুরই পর্যালোচনার প্রয়োজন রয়েছে ধর্ম ও রাজনীতি উভয় দিক থেকে হেফাজতে ইসলামের সমালোচনা বা পর্যালোচনা যে কেউই করতে পারেন কিন্তু শুরুতেই যে দিকটা বোঝা গুরুত্বপূর্ণ সেটা হচ্ছে ছয় তারিখের)

    # Pick a random value out of a given range.
    def value_in_range(range)
      case range.first
      when Integer then number_in_range(range)
      when Time then time_in_range(range)
      when Date then date_in_range(range)
      else range.to_a[rand(range.to_a.size)]
      end
    end

    # Generate a given number of words. If a range is passed, it will generate
    # a random number of words within that range.
    def words(total)
      (1..interpret_value(total)).map { WORDS[rand(WORDS.size)] }.join(' ')
    end

    # Generate a given number of sentences. If a range is passed, it will generate
    # a random number of sentences within that range.
    def sentences(total)
      (1..interpret_value(total)).map do
        words(5..20).capitalize
      end.join('। ')
    end

    # Generate a given number of paragraphs. If a range is passed, it will generate
    # a random number of paragraphs within that range.
    def paragraphs(total)
      (1..interpret_value(total)).map do
        '<p>' + sentences(8..15).capitalize + '</p>'
      end.join('')
    end

    # If an array or range is passed, a random value will be selected to match.
    # All other values are simply returned.
    def interpret_value(value)
      case value
      when Array then value[rand(value.size)]
      when Range then value_in_range(value)
      else value
      end
    end

    private

    def time_in_range(range)
      Time.at number_in_range(Range.new(range.first.to_i, range.last.to_i, range.exclude_end?))
    end

    def date_in_range(range)
      Date.jd number_in_range(Range.new(range.first.jd, range.last.jd, range.exclude_end?))
    end

    def number_in_range(range)
      if range.exclude_end?
        rand(range.last - range.first) + range.first
      else
        rand((range.last+1) - range.first) + range.first
      end
    end
  end

  extend Random # load it into the populator module directly so we can call the methods
end
